<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 第五章
        // 完美的原型继承风格

        function Foo(name){
            this.name=name;
        }
        Foo.prototype.sayName=function(){
            console.log(this.name)
        }
        Foo.prototype.sex='男';

        function Bar(name,label){
            Foo.call(this,name);
            // name 姓名
            // label：武将、文官、小兵
            this.label=label;
        }
        Bar.prototype=Object.create(Foo.prototype);
        var foo=new Foo('松江');
        console.log(foo) // __proto__ 指向Foo.prototype 所以sex和sayName在__proto__里出现 而name在实例对象里
        console.log(foo.hasOwnProperty('name'));
        console.log(foo.hasOwnProperty('sex'))
        console.log('sex' in foo);
        // 手写myCreate polyfill腻子函数

        function myCreate(o){
            if(!Object.create){
                Object.create=function(){
                    function Foo(){}
                    Foo.prototype=o;
                    return new Foo();
                }
            }
        }

        var user={
            name:'疯狂的蜗牛'
        }

        var count=12;
        Object.defineProperty(user,'age',{
            get(){
                return count;
            },
            set(val){
                count+=val;
            }
        })
        console.log(user.age);
        user.age=25;
        console.log(user.age)
    </script>
</body>
</html>