<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 全面了解this
        // 间接引用
        // this的 window 对象 

        // function foo(){
        //     //foo.account=1;
            
        // }
        // foo.count=1;
        // console.log(foo.prototype)
        // setTimeout(function(){
        //     console.log(foo.count)
        //     foo.count++
        // },1000)
        // setTimeout(function(){
        //     console.log(foo.count)
        // },2000)

        // foo.prototype.name='王菲';
        // console.log(foo.prototype)

            // function foo(){
            //     foo.count=1;
            //     return foo;
            // }
            // var f1=foo();
            // console.log(f1)
            // console.log(f1.count)
            
            // var a=1;
            // function foo (){
            //     "use strict";    
            //     console.log(this.a);
            // }
            // foo();
            // 默认绑定 在非严格模式下，指向全局变量; 严格模式下，指向undefined;
    </script>
    <script>
        /// 对象的了解

        /// 对象的定义 

        /// 判断变量的方法 typeof instance of Object.prototype.toString.call  Object.is(); 

        // console.log(Object.prototype.toString.call('af'));
        // console.log('af' instanceof String)
        // console.log(new String('a') instanceof String)

        // /// 拷贝对象 浅拷贝、深拷贝
        // var obj={
        //     name:1,
        //     sex:'man',
        //     job:{
        //         desc:'工业工程',
        //         salary:2000
        //     }
        // }
        // // var obj2=obj;
        // // obj2.job.salary=1000;
        // // console.log(obj2)
        // // console.log(obj)
        // // Object.prototype.hasOwnProperty.call(obj,key);
        // function isObject(obj){
        //     return typeof obj==='object' && obj!==null;
        // }
        
        // function deepCopy(a){
        //     var result={}
        //     Object.keys(a).forEach(key=>{
        //         if(!isObject(a[key])){
        //             result[key]=a[key]
        //         }else{
        //             result[key]=deepCopy(a[key]);
        //         }
        //     })
        //     return result;
        // }

        // var obj2=deepCopy(obj);
        // obj2.job.salary=1000;
        // console.log(obj2)
        // console.log(obj)
        // var jobs=['it','teacher','']

        // /// Object.defineProperty(obj,'name',{})
        // var myObject={}
        // Object.defineProperty(myObject,'name',{
        //     writable:true,
        //     configurable:true,
        //     enumerable:true
        // })
        // 'use strict';
        // myObject.name='2'
        // delete myObject.name;

        // console.log(myObject);

        // 属性方法get set
            // var myObject={
             
            //     get a(){
            //         return 2;
            //     },
            //     set a(val){
            //         return this.a=val
            //     }
            // }
            // console.log(myObject.a)
            // myObject.a=3;
            // console.log(myObject)
                // var myObject={a:1}
                // Object.defineProperty(myObject,'a',{
                //     set(){
                //         return 2
                //     },
                //     get(val){
                //         this.a=val*2;
                //     }
                // })
                //  console.log(myObject)
                //  myObject.a=2;
                // console.log(myObject.a)

                // 判断对象是否包涵某个属性 hasOwnProperty(判断是否在对象上) in(检查是否在对象上或者在原型链上)
                // var itMap=Object.create(null);
                // function Foo(name){
                //     this.name=name;
                // }
                // //Foo.prototype.name='王菲'
                // var itMap=new Foo('王菲');
                // console.log(itMap)
                // // itMap.name='王菲'
                // console.log(name in itMap)
                // console.log(itMap.hasOwnProperty('name'))
                // console.log(Object.keys(itMap))
                // for(let i in [1,2,3,5,'牛']){
                //     console.log(i)
                // }

                // for( let v of ['牛','a','c']){
                //     console.log(v)
                // }
                // for( let v in {name:'王菲'}){
                //     console.log(v)
                // }

                // /// 迭代器 了解

                // var myArray=['张','里','s']
                // var it=myArray[Symbol.iterator]();
                // console.log(it);
                // it.next();
                // console.log(it.next())
                // it.next();
                // it.next();
                // it.next();

                // 对象中 for(v of obj){}

                var myObject={
                    a:2,
                    b:3
                }

                Object.defineProperty(myObject,Symbol.iterator,{
                    enumerable:false,
                    writable:false,
                    configurable:true,
                    value:function(){
                        var o=this;
                        var idx=0;
                        var ks=Object.keys(o);
                        return {
                            next:function(){
                                return {
                                    value:o[ks[idx++]],
                                    done:(idx>ks.length)
                                }

                            }
                        }
                    }
                })

                // var it=myObject[Symbol.iterator]()
                // it.next();
                // it.next()
                // it.next()
                for(var v of myObject){
                    console.log(v)
                }
</script>
</body>
</html>