<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="myBounce" >é˜²æŠ–å•å‡»</button>
    <button id="myThrottle" >èŠ‚æµå•å‡»</button>

    <script>    
        window.onload=function(){
          
        var myBounce=document.getElementById('myBounce')
        myBounce.addEventListener('click',bounce(sayDebounce))

        // èŠ‚æµæ¦‚å¿µï¼šæŒ‡å®šæ—¶é—´é—´éš”å†…åªä¼šæ‰§è¡Œä¸€æ¬¡
        // åº”ç”¨åœºæ™¯ é˜²æ­¢è¿‡å¿«æ‹–åŠ¨æ»šåŠ¨æ¡ï¼Œå¯¼è‡´ JS è·Ÿä¸ä¸Šæ‹–åŠ¨é¢‘ç‡ï¼Œé€šè¿‡èŠ‚æµé™åˆ¶æ¯ç§’è§¦å‘ç›‘å¬çš„æ¬¡æ•°ï¼ˆå›ºå®šæ—¶é—´å›ºå®šé¢‘ç‡ï¼‰ æ‹–åŠ¨åŠ¨ç”»æ•ˆæœï¼Œå‡ºç°æŠ–åŠ¨ç°è±¡
        //å®ç°ğŸŒ°

       
        var myThrottle=document.getElementById('myThrottle');
        
        myThrottle.addEventListener('click',throttle(sayThrottle));
        }

          //æ¦‚å¿µï¼šé˜²æŠ–çš„æ¦‚å¿µ åœ¨çŸ­æ—¶é—´å†…ï¼Œå¤šæ¬¡è§¦å‘åªæ‰§è¡Œä¸€æ¬¡
        //åº”ç”¨åœºæ™¯ï¼š é˜²æ­¢é¢‘ç¹æäº¤è¡¨å•ã€æ»šåŠ¨ä¸‹æ‹‰ã€å¼‚æ­¥è¯·æ±‚ï¼ˆé‡è¦ï¼‰
        //å®ç°ğŸŒ°
        // ğŸŒ°
        function bounce(fn){
            var timer=null;
            return function(){
                clearTimeout(timer)
                timer=setTimeout(()=>{
                fn.call(this,arguments)
            },1000)
            }
            
        }
        function sayDebounce(){
            console.log(this)
            console.log('é˜²æŠ–å•å‡»')
        }
        function throttle(fn){
           
            var canRun=true;
            return function(){
                if(!canRun)return
                // å°†canRun è®¾ç½®ä¸ºfalse,é˜²æ­¢äº‹ä»¶æ‰§è¡Œä¹‹å‰å†æ¬¡æ‰§è¡Œ
                canRun=false;
                setTimeout(()=>{
                    fn.call(this,arguments)
                    //æ—¶é—´æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å…³é‡æ–°æ‰“å¼€
                    canRun=true;
                },1000)
            }
        }
        function sayThrottle(a){
            console.log('èŠ‚æµ')
            console.log(a)
        }  
        
        // æ€è€ƒé¢˜ é˜²æŠ–+èŠ‚æµ ğŸŒ°
        // ç†æ¸…æ€è·¯
        
    </script>
</body>
</html>